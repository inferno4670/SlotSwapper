{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getEvents,createEvent,updateEvent,deleteEvent}from'../services/eventService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Calendar=()=>{const[events,setEvents]=useState([]);const[title,setTitle]=useState('');const[startTime,setStartTime]=useState('');const[endTime,setEndTime]=useState('');const[status,setStatus]=useState('BUSY');useEffect(()=>{fetchEvents();},[]);const fetchEvents=async()=>{try{const data=await getEvents();setEvents(data);}catch(error){console.error('Failed to fetch events:',error);}};const handleCreateEvent=async()=>{try{await createEvent(title,startTime,endTime,status);setTitle('');setStartTime('');setEndTime('');setStatus('BUSY');fetchEvents();}catch(error){console.error('Failed to create event:',error);}};const handleToggleSwappable=async(id,currentStatus)=>{try{const newStatus=currentStatus==='SWAPPABLE'?'BUSY':'SWAPPABLE';await updateEvent(id,'','','',newStatus);fetchEvents();}catch(error){console.error('Failed to toggle swappable status:',error);}};const handleDeleteEvent=async id=>{try{await deleteEvent(id);fetchEvents();}catch(error){console.error('Failed to delete event:',error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Calendar\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add Event\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Title\",value:title,onChange:e=>setTitle(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:startTime,onChange:e=>setStartTime(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:endTime,onChange:e=>setEndTime(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{value:status,onChange:e=>setStatus(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"BUSY\",children:\"Busy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SWAPPABLE\",children:\"Swappable\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateEvent,children:\"Add Event\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Events\"}),/*#__PURE__*/_jsx(\"ul\",{children:events.map(event=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:event.title}),\" - \",new Date(event.startTime).toLocaleString(),\" to \",new Date(event.endTime).toLocaleString(),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleToggleSwappable(event._id,event.status),children:event.status==='SWAPPABLE'?'Make Busy':'Make Swappable'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteEvent(event._id),children:\"Delete\"})]},event._id))})]})]});};export default Calendar;","map":{"version":3,"names":["React","useState","useEffect","getEvents","createEvent","updateEvent","deleteEvent","jsx","_jsx","jsxs","_jsxs","Calendar","events","setEvents","title","setTitle","startTime","setStartTime","endTime","setEndTime","status","setStatus","fetchEvents","data","error","console","handleCreateEvent","handleToggleSwappable","id","currentStatus","newStatus","handleDeleteEvent","children","type","placeholder","value","onChange","e","target","onClick","map","event","Date","toLocaleString","_id"],"sources":["C:/Users/INFERNO VICTORES/SlotSwapper/frontend/src/components/Calendar.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getEvents, createEvent, updateEvent, deleteEvent } from '../services/eventService';\r\n\r\ninterface Event {\r\n  _id: string;\r\n  title: string;\r\n  startTime: string;\r\n  endTime: string;\r\n  status: 'BUSY' | 'SWAPPABLE' | 'SWAP_PENDING';\r\n}\r\n\r\nconst Calendar: React.FC = () => {\r\n  const [events, setEvents] = useState<Event[]>([]);\r\n  const [title, setTitle] = useState('');\r\n  const [startTime, setStartTime] = useState('');\r\n  const [endTime, setEndTime] = useState('');\r\n  const [status, setStatus] = useState<'BUSY' | 'SWAPPABLE' | 'SWAP_PENDING'>('BUSY');\r\n\r\n  useEffect(() => {\r\n    fetchEvents();\r\n  }, []);\r\n\r\n  const fetchEvents = async () => {\r\n    try {\r\n      const data = await getEvents();\r\n      setEvents(data);\r\n    } catch (error) {\r\n      console.error('Failed to fetch events:', error);\r\n    }\r\n  };\r\n\r\n  const handleCreateEvent = async () => {\r\n    try {\r\n      await createEvent(title, startTime, endTime, status);\r\n      setTitle('');\r\n      setStartTime('');\r\n      setEndTime('');\r\n      setStatus('BUSY');\r\n      fetchEvents();\r\n    } catch (error) {\r\n      console.error('Failed to create event:', error);\r\n    }\r\n  };\r\n\r\n  const handleToggleSwappable = async (id: string, currentStatus: 'BUSY' | 'SWAPPABLE' | 'SWAP_PENDING') => {\r\n    try {\r\n      const newStatus = currentStatus === 'SWAPPABLE' ? 'BUSY' : 'SWAPPABLE';\r\n      await updateEvent(id, '', '', '', newStatus);\r\n      fetchEvents();\r\n    } catch (error) {\r\n      console.error('Failed to toggle swappable status:', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteEvent = async (id: string) => {\r\n    try {\r\n      await deleteEvent(id);\r\n      fetchEvents();\r\n    } catch (error) {\r\n      console.error('Failed to delete event:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Calendar</h2>\r\n      <div>\r\n        <h3>Add Event</h3>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"datetime-local\"\r\n          value={startTime}\r\n          onChange={(e) => setStartTime(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"datetime-local\"\r\n          value={endTime}\r\n          onChange={(e) => setEndTime(e.target.value)}\r\n        />\r\n        <select value={status} onChange={(e) => setStatus(e.target.value as any)}>\r\n          <option value=\"BUSY\">Busy</option>\r\n          <option value=\"SWAPPABLE\">Swappable</option>\r\n        </select>\r\n        <button onClick={handleCreateEvent}>Add Event</button>\r\n      </div>\r\n      <div>\r\n        <h3>Events</h3>\r\n        <ul>\r\n          {events.map((event) => (\r\n            <li key={event._id}>\r\n              <strong>{event.title}</strong> - {new Date(event.startTime).toLocaleString()} to {new Date(event.endTime).toLocaleString()}\r\n              <button onClick={() => handleToggleSwappable(event._id, event.status)}>\r\n                {event.status === 'SWAPPABLE' ? 'Make Busy' : 'Make Swappable'}\r\n              </button>\r\n              <button onClick={() => handleDeleteEvent(event._id)}>Delete</button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Calendar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}